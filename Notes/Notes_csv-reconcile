###### csv-reconcile
# https://github.com/gitonthescene/csv-reconcile
# Note: files need to be *.tsv files  # Go here: Reconciliation Project/Python scripts/CSV_2_TSV.pyv

# Installation directions:
# 1. Clone the repository, cd into repo and do everything from the repo directory
# 2. Create virtual environment, install csv-reconcile and initialize database
python3 -m venv .venv                                         
.venv/bin/pip install csv-reconcile                            
source .venv/bin/activate                                            
csv-reconcile init nalt_labels_data/nalt_preflabels_only.tsv NALT_URI Label
csv-reconcile serve 
csv-reconcile init nalt_labels_data/nalt_altlabels_only_withsuffix.tsv NALT_URI_Numbered Label
csv-reconcile serve
# Service: http://127.0.0.1:5000/reconcile  
# Start reconciling * Select 
# cell.recon.match.id
# cell.recon.best.score                                   
deactivate   
# So, nalt_preflabels_only.tsv worked because it has no duplicates but, nalt_altlabels_only.tsv still has duplicate URI's

# So, I added a suffix to the duplicate URI's in the nalt_altlabels_only.tsv so I could do the reconciliation and it worked, 
# I was able to reconcile the beta prepared labels to all of the pref labels albeit, with some extra work pre and post 
# reconciliation....

# There is also so post reconciliation work to be done in openRefine as well when the reconiliation is done against the
# nalt_preflabels_only.tsv....apparently openRefine will score matches as 100% perfect matches but due to minor punctuation / case 
# differences it will not be properly matched when we use the cell.recon.match.id syntax?




# side note:
# This worked - read somewhere that the architecture needed to be explicitly called out. 
python3 -m venv venv
ARCHFLAGS="-arch x86_64" venv/bin/pip install csv-reconcile
source venv/bin/activate




