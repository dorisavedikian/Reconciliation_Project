###### csv-reconcile
# https://github.com/gitonthescene/csv-reconcile
# Note: files need to be *.tsv files  # Go here: Reconciliation Project/Python scripts/CSV_2_TSV.pyv

# Installation directions:
# 1. Clone the repository, cd into repo and do everything from the repo directory
# 2. Create virtual environment, install csv-reconcile and initialize database
python3 -m venv .venv                                         
.venv/bin/pip install csv-reconcile                            
source .venv/bin/activate                                       
csv-reconcile init data/nalt_labels_nodups.tsv NALT_URI Label
# So, having no duplicates in the rows in either column and switching the column labels in the commmand above worked....
# 505 terms in beta prepared were reconciled to nalt concepts
# Now, what I'll do is create a nalt_preflabel.tsv and a nalt_altlabel.tsv and use both seperately....        
csv-reconcile init nalt_labels_data/nalt_preflabels.tsv NALT_URI Label
csv-reconcile serve 
csv-reconcile init nalt_labels_data/nalt_altlabels.tsv NALT_URI Label
csv-reconcile serve
# Service: http://127.0.0.1:5000/reconcile                                     
deactivate   
# So, nalt_preflabels.tsv worked because it has no duplicates...but, nalt_altlabels.tsv still has duplicate URI's
# Reconciling the nalt_preflabels.tsv to the beta prepared.tsv improved the reconciliation / increased the labels that
# reconciled....from 505 terms to 739 terms...  








# side note:
# This worked - read somewhere that the architecture needed to be explicitly called out. 
python3 -m venv venv
ARCHFLAGS="-arch x86_64" venv/bin/pip install csv-reconcile
source venv/bin/activate




